{% extends 'base.html' %}


{% block import %}
<link rel="stylesheet" href="/static/css/base.css">
<link rel="stylesheet" href="/static/css/main.css">
{% endblock %}

{% block content %}


<div class="container-fluid">
    <div class="row bg-primary" style="height:27vh">


        <div class="col-4 mt-3">
            <div class="center">
                <button class="btn btn-price mb-1 text-primary bg-white" data-price="100">100$</button>
                <button class="btn btn-price mb-1 text-primary bg-white" data-price="200">200$</button>
                <br>
                <button class="btn btn-price mb-1 text-primary bg-white" data-price="400">400$</button>
                <button class="btn btn-price mb-1 text-primary bg-white" data-price="500">500$</button>
                <br>
                <button class="btn btn-price center text-primary bg-white" data-price="1000">1000$+</button>
            </div>
        </div>


        <div class="col-4">
            <h1 class="center mt-4"><b>–õ–∞—Å–∫–∞–≤–æ –ü—Ä–æ—Å–∏–º–æ –î–æ AviaTickets</b></h1>
        </div>


        <div class="col-4 mt-3">
            <div class="right-side">
                {% if user %}
                <button type="button" class="btn text-primary bg-white" id="openBasket" data-bs-toggle="modal"
                        data-bs-target="#basketModal" data-url="/basket">
                    –ö–æ—à–∏–∫
                </button>
                <br>
                <a href="/logout" class="btn text-primary bg-white mt-1">–í–∏—Ö—ñ–¥</a><br>
                {% endif %}
                {% if user.is_admin %}
                <a href="/add_tour" class="btn text-primary bg-white mt-1">–î–æ–¥–∞—Ç–∏ –¢—É—Ä</a><br>
                {% endif %}
                {% if not user %}
                <a href="/registration" class="btn text-primary bg-white mt-1">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</a><br>
                <a href="/login" class="btn text-primary bg-white mt-1">–õ–æ–≥—ñ–Ω</a>
                {% endif %}
            </div>
        </div>
        <div class="row" style="height: 300vh">
            <div id="price-tours" class="center">
                {% for tour in tours %}

                <div class="block">
                    <img style="height: 250px; width: 350px" src="{{ tour.picture }}">
                    <input class="tourId" type="hidden" value="{{ tour.id }}">
                    <h4><u>{{ tour.name }}</u></h4>
                    <h5>{{ tour.price }} $</h5>
                    <h6>{{ tour.description }}</h6>
                    <h6>{{ tour.people }} –ü–µ—Ä–æ—Å–æ–Ω–∞/–Ω–∏</h6>
                    <h6>–ó : {{ tour.from_time }}</h6>
                    <h6>–ü–û : {{ tour.to_time }}</h6>
                    <button class="btn btn-primary" id="add_to_basket" data-url="/add_basket/{{ tour.id }}">–î–æ–¥–∞—Ç–∏
                    </button>
                    <br><br>
                    {% if user.is_admin %}
                    <form method="POST" action="/delete_tour/{{ tour.id }}">
                        <a class="deleteTour btn btn-white">üóëÔ∏è</a>
                    </form>
                    <form method="post" action="/edit_tour/{{ tour.id }}">
                        <button class="btn btn-white">üñåÔ∏è</button>
                    </form>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
        </div>
        {% endblock %}

        {% block models %}
        <div class="modal fade" id="basketModal" tabindex="-1" aria-labelledby="basketModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="basketModalLabel">–ö–æ—à–∏–∫</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="bask">
                        {% if message %}
                        {{ message }}
                        {% endif %}
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–ó–∞–∫—Ä–∏—Ç–∏</button>
                        <button type="button" class="btn btn-primary" id="book">–ó–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/delete_tour.js"></script>
<script src="/static/js/option.js"></script>
<script src="/static/js/add_basket.js"></script>
<script src="/static/js/basket.js"></script>
<script src="/static/js/book.js"></script>
{% endblock %}